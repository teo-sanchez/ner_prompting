install:
  cmd: python -m spacy run install
  script:
    - pip install -r requirements.txt
    - huggingface-cli login
  deps: []
  outs: []
  spacy_version: 3.4.3
  spacy_git_version: Unknown
preprocess:
  cmd: python -m spacy run preprocess
  script:
    - python scripts/eval_split.py --jsonl_path assets/ner_prompting.jsonl --split_ratio
      0.2
    - python scripts/preprocess.py assets/ner_prompting_training.jsonl corpus/ner_prompting_training.spacy
    - python scripts/preprocess.py assets/ner_prompting_eval.jsonl corpus/ner_prompting_eval.spacy
  deps:
    - path: assets/ner_prompting.jsonl
      md5: c397cff73f9488f3f39fd993aa70c1a0
    - path: scripts/preprocess.py
      md5: 3c638fcc12381626175ac472b73ed238
    - path: scripts/eval_split.py
      md5: f2ead60c4f5228249abbfa622e7fe5f5
  outs:
    - path: corpus/ner_prompting_training.spacy
      md5: dfaaed12124d5e94874afae68497d866
    - path: corpus/ner_prompting_eval.spacy
      md5: 6b4df1ef0097f14ee00cedd2a4a9e1cf
  spacy_version: 3.4.3
  spacy_git_version: 63673a792
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/ner_prompting_eval.spacy
      --output training/metrics.json
  deps:
    - path: corpus/ner_prompting_eval.spacy
      md5: 6b4df1ef0097f14ee00cedd2a4a9e1cf
    - path: training/model-best
      md5: 2f1552c90d1b48316f9d2c197947225e
  outs:
    - path: training/metrics.json
      md5: 62051d3fb35a494cd6f3d67248cb2a5c
  spacy_version: 3.4.3
  spacy_git_version: 63673a792
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package training/model-best packages --name ner_prompting --version
      0.0.3 --force --build wheel
  deps:
    - path: training/model-best
      md5: 2f1552c90d1b48316f9d2c197947225e
  outs:
    - path: packages/en_ner_prompting-0.0.3/dist/en_ner_prompting-0.0.3-py3-none-any.whl
      md5: 16543bcbf6bfaeca34d7da29ccae57d9
  spacy_version: 3.4.3
  spacy_git_version: 63673a792
push_to_hub:
  cmd: python -m spacy run push_to_hub
  script:
    - python -m spacy huggingface-hub push packages/en_ner_prompting-0.0.3/dist/en_ner_prompting-0.0.3-py3-none-any.whl
  deps:
    - path: packages/en_ner_prompting-0.0.3
      md5: b6d38c15e92db6aa5be169c092d2e491
  outs: []
  spacy_version: 3.4.3
  spacy_git_version: 63673a792
train:
  cmd: python -m spacy run train
  script:
    - 'spacy train configs/config_cpu_train.cfg --output training/ --paths.train corpus/ner_prompting_training.spacy
      --paths.dev corpus/ner_prompting_eval.spacy --gpu-id 0 --verbose '
  deps:
    - path: corpus/ner_prompting_training.spacy
      md5: 091356654aa1746555cf8e601c245a66
    - path: corpus/ner_prompting_eval.spacy
      md5: 9ca87d0e0a330acdcfeec7360ba3495e
  outs:
    - path: training/model-best
      md5: 097090c99d26fe246fd7c9568a7b16de
  spacy_version: 3.4.3
  spacy_git_version: Unknown
